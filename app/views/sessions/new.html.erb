<% provide(:title, "LogIn") %>
<h1>ログイン</h1>

<div class="row">
  <div class="col-md-6 col-md-offset-3">
    <%= form_for(:session, url: login_path) do |f| %>

      <%= f.label :store_user, "ドラッグストア" %>
      <%= f.radio_button :user, 'store', class: "form-check-input" %>
      <%= f.label :customer_user, "消費者" %>
      <%= f.radio_button :user, 'customer', class: "form-check-input" %>

      <%= f.label :email %>
      <%= f.email_field :email, class: 'form-control' %>

      <%= f.label :password %>
      <%= f.password_field :password, class: 'form-control' %>

      <%= f.submit "ログイン", class: "btn btn-primary" %>
    <% end %>

    <p>
      まだ登録してないですか? <%= link_to "ストアはこちら!",store_signup_path %>
                          <%= link_to "消費者はこちら!",customer_signup_path %>
    </p>
  </div>
</div>

<!--<script>-->
<!--    const form  = document.getElementsByTagName('form')[0];-->

<!--    const email = document.getElementById('session_mail');-->
<!--    const error = document.querySelector('#session_mail + span.error');-->

<!--    email.addEventListener("input", function (event) {-->
<!--        // ユーザーが何かを入力するたびに、メールアドレスのフィールドが妥当かを-->
<!--        // 確認します。-->
<!--        if (email.validity.valid) {-->
<!--            // エラーメッセージを表示している場合に、フィールドが妥当になれば-->
<!--            // エラーメッセージを取り除きます。-->
<!--            error.innerHTML = ""; // メッセージの内容物をリセットします-->
<!--            error.className = "error"; // メッセージの表示状態をリセットします-->
<!--        } else {-->
<!--            // If there is still an error, show the correct error-->
<!--            showError();-->
<!--        }-->
<!--    });-->

<!--    function showError() {-->
<!--        if(email.validity.valueMissing) {-->
<!--            // If the field is empty-->
<!--            // display the following error message.-->
<!--            emailError.textContent = 'You need to enter an e-mail address.';-->
<!--        } else if(email.validity.typeMismatch) {-->
<!--            // If the field doesn't contain an email address-->
<!--            // display the following error message.-->
<!--            emailError.textContent = 'Entered value needs to be an e-mail address.';-->
<!--        } else if(email.validity.tooShort) {-->
<!--            // If the data is too short-->
<!--            // display the following error message.-->
<!--            emailError.textContent = `Email should be at least ${ email.minLength } characters; you entered ${ email.value.length }.`;-->
<!--        }-->

<!--        // Set the styling appropriately-->
<!--        emailError.className = 'error active';-->
<!--    }-->
<!--</script>-->